# monocoque-agent-rc configuration
#
# Slack credentials are loaded from environment variables (not this file):
#   SLACK_BOT_TOKEN  - Bot user OAuth token (xoxb-...)
#   SLACK_APP_TOKEN  - App-level token for Socket Mode (xapp-...)
#   SLACK_TEAM_ID    - Slack workspace team ID (T...)
#
# Authorized operator IDs are loaded from an environment variable:
#   SLACK_MEMBER_IDS  - Comma-separated Slack user IDs allowed to
#                                    approve requests and issue commands
#                                    (e.g. U0123456789,U9876543210)
#
# Alternatively, store Slack tokens in the OS keychain under service
# "monocoque-agent-rc" with keys: slack_bot_token, slack_app_token, slack_team_id
#
# Per-workspace Slack channel:
#   Each VS Code workspace MUST specify the target Slack channel by appending
#   a `channel_id` query parameter to the SSE URL in .vscode/mcp.json.
#   There is no global fallback — the channel_id is always workspace-specific.
#
#   Example .vscode/mcp.json for a workspace targeting a specific channel:
#
#     {
#       "servers": {
#         "monocoque": {
#           "type": "sse",
#           "url": "http://127.0.0.1:3000/sse?channel_id=C0123FRONTEND"
#         }
#       }
#     }

default_workspace_root = "D:/Source/GitHub/monocoque-agent-rc"
http_port = 3000
ipc_name = "monocoque-agent-rc"
max_concurrent_sessions = 3
host_cli = "D:/Tools/ghcpcli/copilot.exe"
host_cli_args = ["--stdio"]
retention_days = 30

[database]
path = "data/agent-rc.db"

[slack]
# No fields required here — credentials are loaded from environment variables
# or the OS keychain; the channel is supplied per-workspace via mcp.json.

[timeouts]
approval_seconds = 3600
prompt_seconds = 1800
wait_seconds = 0

[stall]
enabled = true
inactivity_threshold_seconds = 300
escalation_threshold_seconds = 120
max_retries = 3
default_nudge_message = "Continue working on the current task. Pick up where you left off."

[commands]
status = "git status"
